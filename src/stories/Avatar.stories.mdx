import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import Avatar from "../components/Avatar";
import Button from "../components/Button";
import Spinner from "../components/Spinner";

<Meta title="Avatar" component={Avatar} />

export const Template = (args) => <Avatar {...args} />;
const lorem =
  "Proin eget tortor risus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque.";

# ðŸ“¢ Avatar

`Avatar` is a component for rendering a user avatar.

## Usage

```jsx
import Avatar from 'components/shared/DesignSystem/SlabTransferPortal/Avatar';

---

<Avatar title="Jean-Ralphio Saperstein" />
```

<Canvas>
  <Story
    name="default"
    args={{
      title: "Jean-Ralphio Saperstein",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

## Title / Image / Initials

The content that displays inside `Avatar` is based on a priority/fallback system.
1. If a `src` exists (i.e. the user's profile photo), then the image will display.
1. If there is no `src`, `Avatar` will attempt to get initials automatically based off the `title` prop (likely the user's name). A max of 3 initials will be displayed. Alternatively, you can override the default initials behavior and set your own initials manually using the `CustomInitials` prop.
1. If there is no `src`, `title`, and `CustomInitials` (i.e. a newly invited user who hasn't finished setting up their account), we'll display a fallback generic user icon.

<Canvas>
  <Story
    name="with profile photo"
    args={{
      title: "Jean-Ralphio Saperstein",
      src: "https://img.companycam.com/dFawdteZ9ZZFSk7UQpo5XPHzNP_2cKJwM6TLGJylMiE/rs:fit:300:300/q:75/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xNzk1/YjkwMi0xNDQ2LTQw/ZjgtYTFkZS0zZDIx/MjVjMzZhYTAuanBl/Zw",
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="custom initials"
    args={{
      title: "Jean-Ralphio Saperstein",
      customInitials: "XX"
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="no photo"
    args={{
      title: "Jean-Ralphio Saperstein",
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="blank"
    args={{
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Sizes
Avatar sizes are mapped to the `size_avatar` set of design tokens. However, you can also set the size as a number if one of the tokens doesn't work.

<Canvas>
  <Story
    name="large"
    args={{
      title: "Jean-Ralphio Saperstein",
      size: "large",
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="medium"
    args={{
      title: "Jean-Ralphio Saperstein",
      size: "medium"
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="small"
    args={{
      title: "Jean-Ralphio Saperstein",
      size: "small"
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="custom size"
    args={{
      title: "Jean-Ralphio Saperstein",
      size: 64,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Colors
Avatars will have a default background color of `var(--cc_color_background_3)` and text color of `var(--cc_color_text_subtle)`, but you can override those with the `backgroundColor` and `textColor` props. For example, you might be rendering Avatars inside a container that already has a level 3 background color, in which case you could add a `backgroundColor` prop of `var(--cc_color_background_1)`.

To represent a user from a collaborating company, use the `color` prop to create a color border around the Avatar.

<Canvas>
  <Story
    name="custom background color"
    args={{
      title: "Jean-Ralphio Saperstein",
      backgroundColor: "var(--cc_color_background_1)",
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="custom text color"
    args={{
      title: "Jean-Ralphio Saperstein",
      textColor: "var(--cc_color_utility_success)",
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="collaborator"
    args={{
      title: "Jean-Ralphio Saperstein",
      color: "var(--cc_color_label_orange)",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Tooltip Hover
Add the `showTitleOnHover` prop if you want to show a tooltip with the Avatar's `title` inside. You can choose a `tooltipPosition` as well if the default (`top-center`) doesn't work for you.

<Canvas>
  <Story
    name="tooltip top-center"
    args={{
      title: "Jean-Ralphio Saperstein",
      src: "https://img.companycam.com/dFawdteZ9ZZFSk7UQpo5XPHzNP_2cKJwM6TLGJylMiE/rs:fit:300:300/q:75/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xNzk1/YjkwMi0xNDQ2LTQw/ZjgtYTFkZS0zZDIx/MjVjMzZhYTAuanBl/Zw",
      showTitleOnHover: true,
      style: {"margin": "16px 0 16px 48px"},
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="tooltip top-left"
    args={{
      title: "Jean-Ralphio Saperstein",
      src: "https://img.companycam.com/dFawdteZ9ZZFSk7UQpo5XPHzNP_2cKJwM6TLGJylMiE/rs:fit:300:300/q:75/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xNzk1/YjkwMi0xNDQ2LTQw/ZjgtYTFkZS0zZDIx/MjVjMzZhYTAuanBl/Zw",
      showTitleOnHover: true,
      tooltipPosition: "top-left",
      style: {"margin": "16px 0 16px 0"},
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="tooltip top-right"
    args={{
      title: "Jean-Ralphio Saperstein",
      src: "https://img.companycam.com/dFawdteZ9ZZFSk7UQpo5XPHzNP_2cKJwM6TLGJylMiE/rs:fit:300:300/q:75/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xNzk1/YjkwMi0xNDQ2LTQw/ZjgtYTFkZS0zZDIx/MjVjMzZhYTAuanBl/Zw",
      showTitleOnHover: true,
      tooltipPosition: "top-right",
      style: {"margin": "16px 0 16px 0"},
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="tooltip bottom-center"
    args={{
      title: "Jean-Ralphio Saperstein",
      src: "https://img.companycam.com/dFawdteZ9ZZFSk7UQpo5XPHzNP_2cKJwM6TLGJylMiE/rs:fit:300:300/q:75/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xNzk1/YjkwMi0xNDQ2LTQw/ZjgtYTFkZS0zZDIx/MjVjMzZhYTAuanBl/Zw",
      showTitleOnHover: true,
      tooltipPosition: "bottom-center",
      style: {"margin": "16px 0 16px 0"},
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="tooltip bottom-left"
    args={{
      title: "Jean-Ralphio Saperstein",
      src: "https://img.companycam.com/dFawdteZ9ZZFSk7UQpo5XPHzNP_2cKJwM6TLGJylMiE/rs:fit:300:300/q:75/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xNzk1/YjkwMi0xNDQ2LTQw/ZjgtYTFkZS0zZDIx/MjVjMzZhYTAuanBl/Zw",
      showTitleOnHover: true,
      tooltipPosition: "bottom-left",
      style: {"margin": "16px 0 16px 0"},
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="tooltip bottom-right"
    args={{
      title: "Jean-Ralphio Saperstein",
      src: "https://img.companycam.com/dFawdteZ9ZZFSk7UQpo5XPHzNP_2cKJwM6TLGJylMiE/rs:fit:300:300/q:75/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xNzk1/YjkwMi0xNDQ2LTQw/ZjgtYTFkZS0zZDIx/MjVjMzZhYTAuanBl/Zw",
      showTitleOnHover: true,
      tooltipPosition: "bottom-right",
      style: {"margin": "16px 0 16px 0"},
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>



## Icon Badge
There may be times when we want to append an icon badge to an Avatar. The only example currently is a `isHomeowner` prop which adds a house icon in the top right corner of the Avatar. This is more a proof of concept at the moment and likely won't be used much - this may become more robust in the future.

<Canvas>
  <Story
    name="homeowner no photo"
    args={{
      title: "Jean-Ralphio Saperstein",
      isHomeowner: true,
      style: {"marginRight": "-12px"},
    }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="regular avatar"
    args={{
      title: "Jean-Ralphio Saperstein",
      style: {"marginRight": "-12px"},
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>