import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import Button from "../components/Button";
import Modal from "../components/Modal/Modal";
import Spinner from "../components/Spinner";
import { useState } from "react";

<Meta title="Modal" component={Modal} />

export const Template = (args) => {
  const [isOpen, setIsOpen] = useState(false);
  const handleToggle = () => {
    setIsOpen((prevIsOpen) => !prevIsOpen);
  };
  return (
    <>
      <Button onClick={handleToggle} color="primary" hideIcon>
        Open Modal
      </Button>
      <Modal onRequestClose={handleToggle} isOpen={isOpen} {...args}>
        <div
          style={{
            alignItems: "start",
            gap: 16,
            display: "flex",
            flexDirection: "column",
          }}
        >
          This is modal content.
          <Button onClick={handleToggle} color="primary" hideIcon>
            Close Modal
          </Button>
        </div>
      </Modal>
    </>
  );
};

# ⏹️ Modal

## Usage

```jsx
import Modal from "components/shared/DesignSystem/SlabTransferPortal/Modal";

---(
  <Modal
    isOpen={isOpen}
    label="Describe modal for screen reader users"
    onRequestClose={handleClose}
    size={modalSize}
    title="I am a title"
    primaryAction={{
      label: "Primary Action",
      onClick: () => {
        console.log("primary");
      },
    }}
    secondaryAction={{
      label: "Cancel",
      onClick: handleClose,
    }}
    footerContentBefore={<p>Some optional extra information for the footer</p>}
    alert={{
      isVisible: modalStatus === "alert",
      color: "destroy",
      iconName: "alert-circle",
      iconAnimatesIn: true,
      title: "Well, Shoot.",
      message: "Something happened",
      actionLabel: "Close",
      actionOnClick: handleClose,
    }}
    loading={{
      isVisible: modalStatus === "loading",
      message: "Loading...",
    }}
  >
    Modal content
  </Modal>
);
```

## Default Modal

<Canvas>
  <Story
    name="default"
    args={{
      children: "test",
      size: "small",
      primaryAction: { label: "Save", onClick: () => {} },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

## Small Modal

<Canvas>
  <Story
    name="Small Modal"
    args={{
      children: "Small Content",
      size: "small",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Modal

<Canvas>
  <Story
    name="Medium Modal"
    args={{
      children: "Medium Content",
      size: "medium",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Modal

<Canvas>
  <Story
    name="Large Modal"
    args={{
      children: "Large Content",
      size: "large",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Footer

<Canvas>
  <Story
    name="Footer"
    args={{
      children: "Large Content",
      primaryAction: { label: "Publish", onClick: () => {} },
      secondaryAction: { label: "Save as Draft", onClick: () => {} },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
