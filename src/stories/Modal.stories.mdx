import { useState } from "react";
import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import Button from "../components/Button";
import Modal from "../components/Modal/Modal";
import Text from "../components/Text";
import Spinner from "../components/Spinner";

<Meta title="Modal" component={Modal} />

export const Template = (args) => {
  const [isOpen, setIsOpen] = useState(false);
  const toggleModal = () => {
    setIsOpen((prevIsOpen) => !prevIsOpen);
  };
  return (
    <>
      <Button onClick={toggleModal} color="primary" hideIcon>
        Open Modal
      </Button>
      <Modal {...args} onRequestClose={toggleModal} isOpen={isOpen} />
    </>
  );
};

# ⏹️ Modal

## Usage

```jsx
import Modal from "components/shared/DesignSystem/SlabTransferPortal/Modal";

---(
  <Modal
    isOpen={isOpen}
    label="Describe modal for screen reader users"
    onRequestClose={handleClose}
    size="small"
    title="I am a title"
    primaryAction={{
      label: "Primary Action",
      onClick: () => {},
    }}
    secondaryAction={{
      label: "Cancel",
      onClick: () => {},
    }}
  >
    I am the might modal content.
  </Modal>
);
```

## Default Modal

The official `Modal` comes with the following out of the box:

- Close Button
- Close on overlay click
- An accessibility label of "Modal Content"
- Fade enter/exit animations
- CompanyCam stylez

<Canvas>
  <Story
    name="default"
    args={{
      title: "Add Photos",
      children: (
        <>
          <div
            style={{
              borderWidth: "1.5px",
              borderColor: "#0967d2",
              borderStyle: "dashed",
              borderRadius: 8,
              height: "200px",
              display: "flex",
              alignItems: "center",
              justifyContent: "center",
              textAlign: "center",
            }}
          >
            <Text size="m" as="h1" color="subtle">
              Drag & drop photos here or click to upload to this project.
            </Text>
          </div>
          <div style={{ marginTop: 32 }}>
            <Text size="xs" as="p" color="subtle">
              By uploading this Content, you represent that you have the rights
              and authority to share all information in the Content with
              CompanyCam, including any Personal Information belonging to you or
              a third party. See full Terms of Use.
            </Text>
          </div>
        </>
      ),
      hideHeaderBorder: true,
      size: "small",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

## Small

<Canvas>
  <Story
    name="Small"
    args={{
      children: "Small Content",
      size: "small",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium

<Canvas>
  <Story
    name="Medium"
    args={{
      children: "Medium Content",
      size: "medium",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large

<Canvas>
  <Story
    name="Large"
    args={{
      children: "Large Content",
      size: "large",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Footer

<Canvas>
  <Story
    name="Footer"
    args={{
      children: "Large Content",
      primaryAction: { label: "Publish", onClick: () => {} },
      secondaryAction: { label: "Save as Draft", onClick: () => {} },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Without Close Button

<Canvas>
  <Story
    name="Without Close Button"
    args={{
      title: "Without Close Button",
      children: "Maybe you have a thing against that close button.",
      showCloseButton: false,
      bodyStyle: { paddingBottom: 32 },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Without Overlay Close

<Canvas>
  <Story
    name="Without Overlay Close"
    args={{
      title: "Without Overlay Close",
      children: "Maybe clicking on the overlay feels risky.",
      primaryAction: { label: "Save", onClick: () => {} },
      secondaryAction: { label: "Cancel", onClick: () => {} },
      showCloseButton: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Custom Stylez

<Canvas>
  <Story
    name="Custom Stylez"
    args={{
      children: "Check out my margins. And my paddings. I'm so unique.",
      bodyStyle: { backgroundColor: "red", padding: 100, margin: 100 },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Loading

<Canvas>
  <Story
    name="Loading"
    args={{
      loading: { isVisible: true },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
